"use strict";const index=require("./shared/git-scm-hooks.b17e5094.cjs");require("node:fs"),require("node:path"),require("tty"),require("unreadconfig");const t={black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m",console_color:"\x1B[0m"},c=(r,e)=>{const o=`${t[e]}${r}${t.console_color}`;return console.log(o)};async function startCli(r=process.cwd(),e=process.argv){try{index.O(r,e)}catch(o){c("[ERROR], Was not able to set git hooks. Error: "+o,"red")}}const LogLevels={silent:Number.NEGATIVE_INFINITY,fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,ready:3,start:3,box:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},LogTypes={silent:{level:-1},fatal:{level:LogLevels.fatal},error:{level:LogLevels.error},warn:{level:LogLevels.warn},log:{level:LogLevels.log},info:{level:LogLevels.info},success:{level:LogLevels.success},fail:{level:LogLevels.fail},ready:{level:LogLevels.info},start:{level:LogLevels.info},box:{level:LogLevels.info},debug:{level:LogLevels.debug},trace:{level:LogLevels.trace},verbose:{level:LogLevels.verbose}};function isObject(r){return r!==null&&typeof r=="object"}function _defu(r,e,o=".",i){if(!isObject(e))return _defu(r,{},o,i);const s=Object.assign({},e);for(const n in r){if(n==="__proto__"||n==="constructor")continue;const l=r[n];l!=null&&(i&&i(s,n,l,o)||(Array.isArray(l)&&Array.isArray(s[n])?s[n]=[...l,...s[n]]:isObject(l)&&isObject(s[n])?s[n]=_defu(l,s[n],(o?`${o}.`:"")+n.toString(),i):s[n]=l))}return s}function createDefu(r){return(...e)=>e.reduce((o,i)=>_defu(o,i,"",r),{})}const defu=createDefu();function isPlainObject(r){return Object.prototype.toString.call(r)==="[object Object]"}function isLogObj(r){return!(!isPlainObject(r)||!r.message&&!r.args||r.stack)}let paused=!1;const queue=[];class Consola{constructor(e={}){const o=e.types||LogTypes;this.options=defu({...e,defaults:{...e.defaults},level:_normalizeLogLevel(e.level,o),reporters:[...e.reporters||[]]},{types:LogTypes,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const i in o){const s={type:i,...this.options.defaults,...o[i]};this[i]=this._wrapLogFn(s),this[i].raw=this._wrapLogFn(s,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(e){this.options.level=_normalizeLogLevel(e,this.options.types,this.options.level)}prompt(e,o){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(e,o)}create(e){const o=new Consola({...this.options,...e});return this._mockFn&&o.mockTypes(this._mockFn),o}withDefaults(e){return this.create({...this.options,defaults:{...this.options.defaults,...e}})}withTag(e){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+e:e})}addReporter(e){return this.options.reporters.push(e),this}removeReporter(e){if(e){const o=this.options.reporters.indexOf(e);if(o>=0)return this.options.reporters.splice(o,1)}else this.options.reporters.splice(0);return this}setReporters(e){return this.options.reporters=Array.isArray(e)?e:[e],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const e in this.options.types)console["__"+e]||(console["__"+e]=console[e]),console[e]=this[e].raw}restoreConsole(){for(const e in this.options.types)console["__"+e]&&(console[e]=console["__"+e],delete console["__"+e])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(e,o){e&&(e.__write||(e.__write=e.write),e.write=i=>{this[o].raw(String(i).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(e){e&&e.__write&&(e.write=e.__write,delete e.__write)}pauseLogs(){paused=!0}resumeLogs(){paused=!1;const e=queue.splice(0);for(const o of e)o[0]._logFn(o[1],o[2])}mockTypes(e){const o=e||this.options.mockFn;if(this._mockFn=o,typeof o=="function")for(const i in this.options.types)this[i]=o(i,this.options.types[i])||this[i],this[i].raw=this[i]}_wrapLogFn(e,o){return(...i)=>{if(paused){queue.push([this,e,i,o]);return}return this._logFn(e,i,o)}}_logFn(e,o,i){if((e.level||0)>this.level)return!1;const s={date:new Date,args:[],...e,level:_normalizeLogLevel(e.level,this.options.types)};!i&&o.length===1&&isLogObj(o[0])?Object.assign(s,o[0]):s.args=[...o],s.message&&(s.args.unshift(s.message),delete s.message),s.additional&&(Array.isArray(s.additional)||(s.additional=s.additional.split(`
`)),s.args.push(`
`+s.additional.join(`
`)),delete s.additional),s.type=typeof s.type=="string"?s.type.toLowerCase():"log",s.tag=typeof s.tag=="string"?s.tag:"";const n=(a=!1)=>{const p=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&p>0){const h=[...this._lastLog.object.args];p>1&&h.push(`(repeated ${p} times)`),this._log({...this._lastLog.object,args:h}),this._lastLog.count=1}a&&(this._lastLog.object=s,this._log(s))};clearTimeout(this._lastLog.timeout);const l=this._lastLog.time&&s.date?s.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=s.date,l<this.options.throttle)try{const a=JSON.stringify([s.type,s.tag,s.args]),p=this._lastLog.serialized===a;if(this._lastLog.serialized=a,p&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(n,this.options.throttle);return}}catch{}n(!0)}_log(e){for(const o of this.options.reporters)o.log(e,{options:this.options})}}function _normalizeLogLevel(r,e={},o=3){return r===void 0?o:typeof r=="number"?r:e[r]&&e[r].level!==void 0?e[r].level:o}Consola.prototype.add=Consola.prototype.addReporter,Consola.prototype.remove=Consola.prototype.removeReporter,Consola.prototype.clear=Consola.prototype.removeReporter,Consola.prototype.withScope=Consola.prototype.withTag,Consola.prototype.mock=Consola.prototype.mockTypes,Consola.prototype.pause=Consola.prototype.pauseLogs,Consola.prototype.resume=Consola.prototype.resumeLogs;function createConsola$1(r={}){return new Consola(r)}class BrowserReporter{constructor(e){this.options={...e},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(e){return e<1?console.__error||console.error:e===1?console.__warn||console.warn:console.__log||console.log}log(e){const o=this._getLogFn(e.level),i=e.type==="log"?"":e.type,s=e.tag||"",l=`
      background: ${this.typeColorMap[e.type]||this.levelColorMap[e.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,a=`%c${[s,i].filter(Boolean).join(":")}`;typeof e.args[0]=="string"?o(`${a}%c ${e.args[0]}`,l,"",...e.args.slice(1)):o(a,l,...e.args)}}function createConsola(r={}){return createConsola$1({reporters:r.reporters||[new BrowserReporter({})],prompt(o,i={}){return i.type==="confirm"?Promise.resolve(confirm(o)):Promise.resolve(prompt(o))},...r})}const consola=createConsola();class PrettyError extends Error{constructor(e){super(e),this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}function handleError(r){r instanceof PrettyError&&consola.error(r.message),process.exitCode=1}startCli().catch(handleError);
